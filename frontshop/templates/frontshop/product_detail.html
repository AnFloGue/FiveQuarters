<!-- frontshop/templates/frontshop/product_detail.html  -->

{% extends 'frontshop/base.html' %}
{% load static %}

{% block title %}Product Detail{% endblock %}

{% block content %}
    <!-- Section: Product Full Detail -->
    <div class="container mt-4">
        <div class="card">
            <div class="card-header">
                <h2>{{ products_with_ingredients.product.name }}</h2>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <img src="{{ products_with_ingredients.product.image }}" alt="{{ products_with_ingredients.product.name }}" class="img-fluid mb-3">
                    </div>
                    <div class="col-md-6">
                        <p><strong>ID:</strong> {{ products_with_ingredients.product.id }}</p>
                        <p><strong>Description:</strong> {{ products_with_ingredients.product.description }}</p>
                        <p><strong>Price:</strong> ${{ products_with_ingredients.product.price }}</p>
                        <p><strong>Date of Manufacture:</strong> {{ products_with_ingredients.product.date_of_manufacture }}</p>
                        <p><strong>Date of Expiry:</strong> {{ products_with_ingredients.product.date_of_expiry }}</p>
                        <p><strong>Manufacturing Time:</strong> {{ products_with_ingredients.product.manufacturing_time }} hours</p>
                        <p><strong>Popularity:</strong> {{ products_with_ingredients.product.popularity }}</p>
                        <p><strong>Is Product of the Week:</strong> {{ products_with_ingredients.product.is_product_of_the_week }}</p>
                        <p><strong>Rating:</strong> {{ products_with_ingredients.product.rating }}</p>
                        <p><strong>Category:</strong> {{ products_with_ingredients.category.name }}</p>
                    </div>
                </div>
                <div class="row mt-4">
                    <div class="col-md-6">
                        <h4>Allergens</h4>
                        <ul>
                            {% for allergen in products_with_ingredients.allergens %}
                                <li>{{ allergen }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h4>Ingredients</h4>
                        <ul>
                            {% for ingredient in products_with_ingredients.ingredients %}
                                <li>
                                    <strong>{{ ingredient.name }}</strong> (ID: {{ ingredient.id }})<br>
                                    Stock: {{ ingredient.stock }} {{ ingredient.unit }}<br>
                                    Required Amount: {{ ingredient.required_amount }} {{ ingredient.unit }}<br>
                                    Potential Allergens: {{ ingredient.potential_allergens }}
                                </li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
                <div class="row mt-4">
                    <div class="col-md-12">
                        <h4>Recipes</h4>
                        <ul>
                            {% for recipe in products_with_ingredients.recipes %}
                                <li>Ingredient ID: {{ recipe.ingredient }}, Quantity: {{ recipe.quantity }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Section: Product Full Detail -->
{% endblock %}